<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>alice</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
</head>
<body>
    <div class="background">
        <img src="pepe.jpg" alt="Background">
    </div>

    <div class="profile-card">
        <div class="profile-header">
            <img src="cat_pfp.jpg" class="profile-pic" alt="Profile Picture">
            <div class="profile-info">
                <h1>Alice<span class="icons">‚ú®‚≠ê</span></h1>
                <p>800 dpi, 52cm/360, artisan hien</p>
                <p class="joined"></p>
            </div>
        </div>

        <div class="bio">
            <p>I'm a dumbass developer and i like competitive shooters.</p>
        </div>

        <div class="social-links">
            <a href="https://github.com/" class="social-icon"><i class="bi bi-github"></i></a>
            <a href="https://x.com/slungus_online" class="social-icon"><i class="bi bi-twitter-x"></i></a>
            <a href="https://steamcommunity.com/id/azijnwater" class="social-icon"><i class="bi bi-steam"></i></a>
            <a href="https://discordapp.com/users/1222833777047502942" class="social-icon discord-icon" onclick="copyToClipboard(event)">
    <i class="bi bi-discord"></i>
    <span class="discord-tooltip">slungus.online</span>
</a>

            
<div class="eth-container">
    <svg class="eth-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 540 879.4">
        <path d="m269.9 325.2-269.9 122.7 269.9 159.6 270-159.6z" opacity=".6"/>
        <path d="m0.1 447.8 269.9 159.6v-607.4z" opacity=".45"/>
        <path d="m270 0v607.4l269.9-159.6z" opacity=".8"/>
        <path d="m0 499 269.9 380.4v-220.9z" opacity=".45"/>
        <path d="m269.9 658.5v220.9l270.1-380.4z" opacity=".8"/>
    </svg>
    <span class="eth-address">Copy Address</span>
</div>

        </div>

        <div class="footer">
            <p>üåç (‚úø‚ó†·¥ó‚ó†*)Íï§*.Ôæü o block | <span id="visit-counter">Visits: :3</span></p>
        </div>             
    </div>

    <script src="script.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
        import { getFirestore, doc, getDoc, setDoc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";
    
        const firebaseConfig = {
            apiKey: "AIzaSyBrqvkmChXDfAOlNoESYFB1qMGIzhrVGAs",
            authDomain: "visitcounter-e62ac.firebaseapp.com",
            projectId: "visitcounter-e62ac",
            storageBucket: "visitcounter-e62ac.firebasestorage.app",
            messagingSenderId: "616649343256",
            appId: "1:616649343256:web:717eb75d2264c5922ede6d",
            measurementId: "G-VPDCQMJS49"
        };
    
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const visitCounterElement = document.getElementById("visit-counter");
    
        async function updateVisitCounter() {
            const counterRef = doc(db, "visitCounter", "counter");
    
            try {
                // Show the last known value instantly
                const counterSnap = await getDoc(counterRef);
                if (counterSnap.exists()) {
                    let previousCount = counterSnap.data().visits;
                    visitCounterElement.innerText = `Visits: ${previousCount}`;
                } else {
                    visitCounterElement.innerText = "Visits: 0";
                }
    
                // Increment the visit count in the background
                await updateDoc(counterRef, { visits: increment(1) });
    
                // Fetch and update the new value
                const updatedCounterSnap = await getDoc(counterRef);
                visitCounterElement.innerText = `Visits: ${updatedCounterSnap.data().visits}`;
            } catch (error) {
                console.error("Error updating visit counter:", error);
                visitCounterElement.innerText = "Visits: Error";
            }
        }
    
        document.addEventListener("DOMContentLoaded", function () {
            if (visitCounterElement) {
                visitCounterElement.innerText = "Visits: :3";
                updateVisitCounter(); // Start updating
            } else {
                console.error("Visit counter element not found!");
            }
        });
    </script>    
</body>
</html>
